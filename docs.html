<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QWXBBLS661"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-QWXBBLS661');
    </script>
    <title>Deployment Guide ‚Äî Cleanmails</title>
    <meta name="description"
        content="Official deployment guide for Cleanmails. Production-grade VPS setup for email validation nodes.">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/style.css">

    <style>
        :root {
            --docs-accent: #FF90E8;
            --docs-bg: #FFFFFF;
            --docs-text: #1A1A1A;
            --docs-code-bg: #000000;
            --docs-border: #000000;
            --sidebar-width: 300px;
        }

        body {
            background-color: var(--docs-bg);
            color: var(--docs-text);
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        .docs-container {
            display: flex;
            min-height: 100vh;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Sidebar Navigation */
        .docs-sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            position: fixed;
            left: max(0px, calc((100% - 1400px) / 2));
            border-right: 4px solid var(--docs-border);
            padding: 40px 24px;
            overflow-y: auto;
            background: #fff;
            z-index: 100;
        }

        .docs-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: #000;
            font-weight: 900;
            font-size: 1.5rem;
            margin-bottom: 48px;
        }

        .docs-logo img {
            height: 32px;
            width: 32px;
        }

        .docs-nav-group {
            margin-bottom: 32px;
        }

        .docs-nav-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 800;
            color: #666;
            margin-bottom: 12px;
            padding-left: 12px;
        }

        .docs-nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .docs-nav-item a {
            display: block;
            padding: 10px 12px;
            text-decoration: none;
            color: #444;
            font-weight: 600;
            border-radius: 8px;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .docs-nav-item a:hover {
            background: #f0f0f0;
            color: #000;
        }

        .docs-nav-item a.active {
            background: var(--docs-accent);
            color: #000;
            border: 2px solid #000;
            box-shadow: 4px 4px 0 #000;
        }

        /* Main Content */
        .docs-main {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 80px 60px;
            max-width: 900px;
        }

        .docs-header {
            margin-bottom: 64px;
        }

        .docs-badge {
            display: inline-block;
            background: #000;
            color: #fff;
            padding: 6px 16px;
            border-radius: 100px;
            font-weight: 800;
            font-size: 0.8rem;
            margin-bottom: 24px;
        }

        .docs-title {
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 24px;
            letter-spacing: -0.04em;
        }

        .docs-subtitle {
            font-size: 1.25rem;
            color: #444;
            font-weight: 600;
            line-height: 1.6;
        }

        /* Section Layout */
        section {
            padding: 60px 0;
            border-top: 2px solid #eee;
        }

        section:first-of-type {
            border-top: none;
        }

        h1,
        h2,
        h3 {
            font-weight: 900;
            letter-spacing: -0.02em;
            margin-bottom: 24px;
        }

        h2 {
            font-size: 2.25rem;
        }

        h3 {
            font-size: 1.75rem;
            margin-top: 48px;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #333;
            margin-bottom: 24px;
        }

        /* Code Blocks */
        .code-container {
            background: var(--docs-code-bg);
            border-radius: 16px;
            padding: 24px;
            margin: 24px 0;
            position: relative;
            border: 3px solid #000;
            box-shadow: 8px 8px 0 rgba(0, 0, 0, 0.1);
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .code-lang {
            color: #666;
            font-size: 0.8rem;
            font-family: 'JetBrains Mono', monospace;
            text-transform: uppercase;
        }

        .copy-btn {
            background: #222;
            color: #fff;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.75rem;
            font-weight: 700;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: var(--docs-accent);
            color: #000;
        }

        pre {
            margin: 0;
            overflow-x: auto;
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            color: #fff;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Callouts / Alerts */
        .callout {
            padding: 32px;
            border-radius: 20px;
            border: 3px solid #000;
            margin: 32px 0;
            background: #f9f9f9;
            box-shadow: 8px 8px 0 #000;
        }

        .callout.warning {
            background: #FFF9E6;
            border-color: #FFC107;
            box-shadow: 8px 8px 0 #FFC107;
        }

        .callout.info {
            background: #EBF5FF;
            border-color: #2196F3;
            box-shadow: 8px 8px 0 #2196F3;
        }

        .callout h4 {
            margin-top: 0;
            margin-bottom: 12px;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Checklist Table */
        .docs-table {
            width: 100%;
            border-collapse: collapse;
            margin: 32px 0;
            border: 3px solid #000;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 10px 10px 0 #f0f0f0;
        }

        .docs-table th,
        .docs-table td {
            padding: 16px 20px;
            text-align: left;
            border-bottom: 2px solid #000;
        }

        .docs-table th {
            background: #fafafa;
            font-weight: 800;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
        }

        .docs-table tr:last-child td {
            border-bottom: none;
        }

        /* Step Logic */
        .step-visual {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: #000;
            color: #fff;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        /* Mobile Adjustments */
        @media (max-width: 1024px) {
            .docs-sidebar {
                display: none;
            }

            .docs-main {
                margin-left: 0;
                padding: 40px 24px;
            }

            .docs-title {
                font-size: 2.5rem;
            }
        }
    </style>
</head>

<body>
    <div class="docs-container">
        <!-- Sidebar -->
        <aside class="docs-sidebar">
            <a href="/" class="docs-logo">
                <img src="/logo.svg" alt="Cleanmails">
                <span>Cleanmails</span>
            </a>

            <div class="docs-nav-group">
                <p class="docs-nav-title">Setup Guide</p>
                <ul class="docs-nav-list">
                    <li class="docs-nav-item"><a href="/CleanieAI"
                            style="color: var(--docs-accent); display: flex; align-items: center; gap: 8px;">ü§ñ Ask
                            CleanieAI</a></li>
                    <li class="docs-nav-item"><a href="#overview" class="active">Overview</a></li>
                    <li class="docs-nav-item"><a href="#preflight">1. Pre-Flight Checklist</a></li>
                    <li class="docs-nav-item"><a href="#reputation">2. Infrastructure Reputation</a></li>
                    <li class="docs-nav-item"><a href="#repo">3. Prepare Private Repo</a></li>
                    <li class="docs-nav-item"><a href="#dependencies">4. Install Dependencies</a></li>
                    <li class="docs-nav-item"><a href="#launch">5. Clone and Launch</a></li>
                    <li class="docs-nav-item"><a href="#https">6. Domain & HTTPS</a></li>
                    <li class="docs-nav-item"><a href="#initialization">7. First-Time Initialization</a></li>
                </ul>
            </div>

            <div class="docs-nav-group">
                <p class="docs-nav-title">Maintenance</p>
                <ul class="docs-nav-list">
                    <li class="docs-nav-item"><a href="#ops">8. Operational Commands</a></li>
                    <li class="docs-nav-item"><a href="#final">9. Final Checklist</a></li>
                </ul>
            </div>

            <div style="margin-top: auto; padding-top: 40px; border-top: 1px solid #eee;">
                <p style="font-size: 0.8rem; font-weight: 700; color: #999;">CLEANMAILS.ONLINE</p>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="docs-main">
            <header class="docs-header" id="overview">
                <span class="docs-badge">VPS DEPLOYMENT GUIDE</span>
                <h1 class="docs-title">Production-Grade Email Validation Setup</h1>
                <p class="docs-subtitle">
                    This document outlines the complete deployment process for Cleanmails on a fresh VPS. Configure a
                    secure, reputation-safe, containerized email validation node with HTTPS and proper SMTP alignment.
                </p>
                <div
                    style="margin-top: 32px; padding: 24px; background: #FFF9E6; border: 3px solid #000; border-radius: 16px; box-shadow: 6px 6px 0 #000;">
                    <h4 style="margin: 0 0 12px 0; font-weight: 900;">Deploy in minutes using CleanieAI ü§ñ</h4>
                    <p style="margin: 0 0 20px 0; font-size: 0.95rem; font-weight: 600;">Stuck with an error? Our AI
                        assistant knows exactly how to fix deployment issues. Get your dashboard live effortlessly.</p>
                    <a href="/CleanieAI" class="checkout-button"
                        style="display: inline-block; padding: 12px 24px; font-size: 0.95rem;">Launch AI Assistant</a>
                </div>
            </header>

            <!-- 1. Pre-Flight Checklist -->
            <section id="preflight">
                <div class="step-visual">
                    <div class="step-number">1</div>
                    <h2 style="margin-bottom: 0;">Pre-Flight Checklist</h2>
                </div>

                <h3>Infrastructure Requirements</h3>
                <ul style="padding-left: 20px; line-height: 2;">
                    <li><strong>VPS OS</strong>: Ubuntu 22.04 or Debian 11+</li>
                    <li><strong>Network</strong>: Dedicated Public IPv4</li>
                    <li><strong>Port 25</strong>: Outbound Port 25 must be unblocked</li>
                    <li><strong>DNS</strong>: Ability to configure Reverse DNS (PTR)</li>
                </ul>

                <h3>Domain Requirements</h3>
                <ul style="padding-left: 20px; line-height: 2;">
                    <li>Domain ownership confirmed</li>
                    <li>DNS panel access (Cloudflare or equivalent)</li>
                    <li>Gray Cloud enabled (Proxy disabled / DNS-only mode)</li>
                </ul>

                <div class="callout info">
                    <h4>üìù Note on Source Code</h4>
                    Check that your private GitHub repository is created and your production-ready source code is
                    committed with a verified docker-compose.yml.
                </div>
            </section>

            <!-- 2. Infrastructure Reputation -->
            <section id="reputation">
                <div class="step-visual">
                    <div class="step-number">2</div>
                    <h2 style="margin-bottom: 0;">Infrastructure Reputation Setup</h2>
                </div>

                <h3>2.1 Validate Outbound Port 25</h3>
                <p>Ensure your VPS can communicate with external SMTP servers. Run this command on your VPS:</p>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Bash</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>telnet gmail-smtp-in.l.google.com 25</code></pre>
                </div>
                <p><strong>Expected Output:</strong> A "220" response from the Gmail SMTP server. If the connection
                    fails, contact your VPS provider to request outbound Port 25 unblocking.</p>

                <h3>2.2 Configure Reverse DNS (PTR Record)</h3>
                <p>In your VPS dashboard (Networking settings), set the Reverse DNS / PTR hostname to:</p>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Hostname</span>
                    </div>
                    <pre><code>verify.yourdomain.com</code></pre>
                </div>
                <div class="callout warning">
                    <h4>üö® Mandatory Alignment</h4>
                    The A record must resolve to the VPS IP, and the PTR record must resolve back to the same hostname.
                    Your SMTP HELO must match this hostname for 100% accuracy.
                </div>
            </section>

            <!-- 3. Prepare Repo -->
            <section id="repo">
                <div class="step-visual">
                    <div class="step-number">3</div>
                    <h2 style="margin-bottom: 0;">Prepare Private Repository</h2>
                </div>
                <p>Initialize and push your Cleanmails code to your private repository from your local machine:</p>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Git</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>git init
git add .
git commit -m "Deployment Ready"
git remote add origin https://github.com/USERNAME/cleanmails.git
git push -u origin main</code></pre>
                </div>
            </section>

            <!-- 4. Dependencies -->
            <section id="dependencies">
                <div class="step-visual">
                    <div class="step-number">4</div>
                    <h2 style="margin-bottom: 0;">Install Core Dependencies</h2>
                </div>
                <p>Run these commands on your VPS to prepare the environment:</p>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Bash</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>sudo apt update && sudo apt upgrade -y
sudo apt install docker.io docker-compose git -y
sudo systemctl start docker
sudo systemctl enable docker</code></pre>
                </div>
                <div class="callout">
                    <h4>üí° Pro Tip</h4>
                    Add your user to the docker group to run commands without <code>sudo</code>:
                    <br><code>sudo usermod -aG docker $USER</code>
                </div>
            </section>

            <!-- 5. Clone and Launch -->
            <section id="launch">
                <div class="step-visual">
                    <div class="step-number">5</div>
                    <h2 style="margin-bottom: 0;">Clone and Launch Application</h2>
                </div>
                <h3>Clone Repository</h3>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Bash</span>
                    </div>
                    <pre><code>git clone https://github.com/USERNAME/cleanmails.git
cd cleanmails</code></pre>
                </div>

                <h3>Configure Environment</h3>
                <p>Edit your <code>docker-compose.yml</code> to match your setup:</p>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">YAML</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Inside docker-compose.yml
SMTP_HELO_NAME=verify.yourdomain.com
SMTP_FROM_EMAIL=scanner@yourdomain.com</code></pre>
                </div>

                <h3>Build and Start</h3>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Bash</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>sudo docker-compose up -d --build</code></pre>
                </div>
            </section>

            <!-- 6. HTTPS -->
            <section id="https">
                <div class="step-visual">
                    <div class="step-number">6</div>
                    <h2 style="margin-bottom: 0;">Domain and HTTPS Configuration</h2>
                </div>
                <h3>6.1 DNS Setup</h3>
                <p>Create the following A Record in your DNS panel:</p>
                <table class="docs-table">
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Type</td>
                            <td>A Record</td>
                        </tr>
                        <tr>
                            <td>Name</td>
                            <td>verify</td>
                        </tr>
                        <tr>
                            <td>Value</td>
                            <td>YOUR_VPS_IP</td>
                        </tr>
                        <tr>
                            <td>Proxy Status</td>
                            <td>DNS Only (Gray Cloud)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>6.2 Install Nginx and SSL</h3>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Bash</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>sudo apt install nginx certbot python3-certbot-nginx -y
sudo certbot --nginx -d verify.yourdomain.com</code></pre>
                </div>
            </section>

            <!-- 7. Initialization -->
            <section id="initialization">
                <div class="step-visual">
                    <div class="step-number">7</div>
                    <h2 style="margin-bottom: 0;">First-Time Initialization</h2>
                </div>
                <p>Open your browser and navigate to <code>https://verify.yourdomain.com</code>.</p>
                <p>You will be prompted to create your <strong>Admin Account</strong> and <strong>Master
                        Password</strong>. There is no password recovery mechanism ‚Äî save these details securely.</p>
            </section>

            <!-- 8. Operations -->
            <section id="ops">
                <div class="step-visual">
                    <div class="step-number">8</div>
                    <h2 style="margin-bottom: 0;">Operational Commands</h2>
                </div>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Log view</span>
                    </div>
                    <pre><code>sudo docker-compose logs -f cleanmails</code></pre>
                </div>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-lang">Restart</span>
                    </div>
                    <pre><code>sudo docker-compose restart</code></pre>
                </div>
            </section>

            <!-- 9. Final Checklist -->
            <section id="final">
                <div class="step-visual">
                    <div class="step-number">9</div>
                    <h2 style="margin-bottom: 0;">Final Verification Checklist</h2>
                </div>
                <ul style="padding-left: 20px; line-height: 2;">
                    <li>‚úÖ <strong>SSL Valid</strong>: HTTPS loads without security warnings.</li>
                    <li>‚úÖ <strong>Auth Active</strong>: Dashboard requires login for access.</li>
                    <li>‚úÖ <strong>DNS Matched</strong>: HELO matches Reverse DNS hostname.</li>
                    <li>‚úÖ <strong>Port Lock</strong>: Direct access via IP:8080 is blocked by Nginx.</li>
                </ul>
            </section>

            <footer style="margin-top: 100px; padding-top: 40px; border-top: 4px solid #000;">
                <h3 style="margin-top: 0;">Deployment Complete üéâ</h3>
                <p>Cleanmails is now operational. You have a private, reputation-safe email validation node running on
                    your own infrastructure.</p>
                <a href="/" style="font-weight: 800; color: #000; text-decoration: none;">‚Üê Back to Home</a>
            </footer>
        </main>
    </div>

    <script>
        // Copy Code Functionality
        function copyCode(btn) {
            const code = btn.closest('.code-container').querySelector('code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                const originalText = btn.innerText;
                btn.innerText = 'Copied!';
                btn.style.background = '#00C853';
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.background = '#222';
                }, 2000);
            });
        }

        // Active Navigation Tracker
        const sections = document.querySelectorAll('section[id], header[id]');
        const navLinks = document.querySelectorAll('.docs-nav-item a');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>

</html>